# HAWC Pipeline Configuration Validation File - General (public) version
#
# 2008-11-3 Marc Berthoud Version 0.1: Configuration file for Pipeline Testing
# 2012 Marc Berthoud: Numerous updates
# 2013-10-09 Nicholas Chapman: Made a config validation file

# General Section: configuration of the pipeline
[general]
    # list of packages to look for pipe step modules (order matters)
    steppacks = stonesteps, drp
    # list of steps for unknown instrument mode
    stepslist = StepLoadStoneedge, StepDemod

# Pipeline Section: Configuration of the pipeline
[pipeline]
    # Number of final results to save
    finalsaveN = 5

# Testing Section: Information for testing the pipeline
[testing]
    # Folder for test files
    testpath = testfiles
    # Information for IDL test code

### Pipelines Section: configuration for individual pipeline modes

# Test Mode Configuration
[mode_test]
    # list of data reduction steps
    stepslist = StepLoad, StepDemod

# ChopNod Mode Configuration
[mode_stoneedge]
    # list of steps
    #stepslist = load, StepHotpix, StepDark, StepFlat, StepRGB, save
    stepslist = load, StepHotpix, StepRGB, save

### Pipe Step Section

# Parent step configuration
[parent]
    # Sample parameter - no practical use
    sampar = 0.25

# Parent step Multiple Inputs configuration
[parentmi]
    # Sample parameter - no practical use
    sampar = 0.5

# Parent step Multiple Outputs configuration
[parentmo]
    # Sample parameter - no practical use
    sampar = 0.75

# Flat step configuration
[flat]
    # filename that overrules the fit keys ('search' looks for file in flatdir)
    flatfile = /data/scripts/DataReduction/flat.fits
    # list of keys that need to match flat and data file (only if flatfile=search)
    fitkeys = DETSIZE, PASSBAND, PUPIL # HAWC
    # flatfolder: folder for flat files (only used if flatfile=search)
    flatfolder = None
    # list of input file datasets to flatten
    # - Expects None or a list of image HDU or table column names
    #datalist = R array, T array
    # method to normalize data (standard is NO, options are NO, RE, IM and ABS)
    l0method = NO

# Hotpix step configuration
[hotpix]

# RGB step configuration
[makergb]
    # percentile value for miniumum scaling (in decimal form)
    minpercent = 0.5
    # percentile value for maximum scaling
    maxpercent = 0.999

### Data Section

# Treatement of the FITS header: can include keyword replacement
# The keyword value and comment must be printed as they would in a FITS header
# If the value is another keyword, the value of that keyword will be used
# instead (This only works if the other keywords starts with an alphabetic
# character).
[header]
    INSTMODE = "stoneedge / instrument mode"
    
# Treatement for table values when combining images
# Options are MIN, MED, AVG, FIRST, LAST, SUM
[table]
